{
  "name": "Unconfigured Vault Container (Sealed)",
  "build": {
    "dockerfile": "Dockerfile",
  },
  // Forward port 8200 to your local machine
  "forwardPorts": [8200],

  // Tell Vault CLI which address to connect to by default
  "remoteEnv": {
    "VAULT_ADDR": "http://127.0.0.1:8200"
  },

  // Start Vault using our config in the background.
  // We do NOT initialize or unseal here. That is up to the user.
  "postStartCommand": "vault server -config=/home/codespace/vault.hcl &",

  // Recommended to set a default shell for codespaces
  "settings": {
    "terminal.integrated.defaultProfile.linux": "/bin/bash"
  },

  // Optionally specify a default 2-core machine (basicLinux) in Codespaces
  "customizations": {
    "codespaces": {
      "defaultMachine": "basicLinux",
      "openFiles": ["codespace.md"]
    },
    "vscode": {
      "extensions": ["GitHub.copilot"]
    }
  }
}
