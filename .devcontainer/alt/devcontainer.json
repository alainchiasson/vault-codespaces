{
  "name": "Vault Alt Config",

  "build": {
    "dockerfile": "Dockerfile"
  },

  // Forward Vault's default port so you can access it in the Codespace
  "forwardPorts": [8200],

  // Override the default Docker command so we can run our own
  "overrideCommand": false,

  // Let the Vault CLI know where to connect
  "remoteEnv": {
    "VAULT_ADDR": "http://127.0.0.1:8200"
  },

  "containerEnv": {
    "SKIP_SETCAP": "true"
  },

  // Run Vault as soon as the container is up
  "postStartCommand": "vault server -config=/vault/config/vault.hcl &",

  "customizations": {
    "vscode": {
      "extensions": ["GitHub.copilot"]
    }
  }
}
